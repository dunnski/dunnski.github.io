<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="prefer-datetime-locale" content="en-us"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Malware Analysis Series - Part 2, How to Isolate our Homelab with Network Segmentation" /><meta property="og:locale" content="en" /><meta name="description" content="Introduction:" /><meta property="og:description" content="Introduction:" /><link rel="canonical" href="https://dunnski.github.io/posts/how_to_isolate_homelab/" /><meta property="og:url" content="https://dunnski.github.io/posts/how_to_isolate_homelab/" /><meta property="og:site_name" content="JT_Dunnski" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-10-10T08:00:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Malware Analysis Series - Part 2, How to Isolate our Homelab with Network Segmentation" /><meta name="twitter:site" content="@jt_dunnski" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-06-02T10:18:25-04:00","datePublished":"2021-10-10T08:00:00-04:00","description":"Introduction:","headline":"Malware Analysis Series - Part 2, How to Isolate our Homelab with Network Segmentation","mainEntityOfPage":{"@type":"WebPage","@id":"https://dunnski.github.io/posts/how_to_isolate_homelab/"},"url":"https://dunnski.github.io/posts/how_to_isolate_homelab/"}</script><title>Malware Analysis Series - Part 2, How to Isolate our Homelab with Network Segmentation | JT_Dunnski</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="JT_Dunnski"><meta name="application-name" content="JT_Dunnski"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://res.cloudinary.com/dunnski/image/upload/v1653506922/Blog_Assets/Author_images/dunnski_sp1mrh.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">JT_Dunnski</a></div><div class="site-subtitle font-italic">Blog focused on Cyber Security and Reverse Engineering</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://www.linkedin.com/in/josh-dunn12" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://twitter.com/jt_dunnski" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://github.com/dunnski" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['jt_dunnski','proton.me'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Malware Analysis Series - Part 2, How to Isolate our Homelab with Network Segmentation</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 400'%3E%3C/svg%3E" data-src="/assets/img/blog/how_to_isolate_homelab_images//2021-05-24_00_cover_image.jpg" class="preview-img bg" alt="Preview Image" width="1000" height="400" data-proofer-ignore><h1 data-toc-skip>Malware Analysis Series - Part 2, How to Isolate our Homelab with Network Segmentation</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/jt_dunnski">Joshua</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1633867200" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2021-10-10 </em> </span> <span> Updated <em class="timeago" data-ts="1654179505" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-06-02 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1738 words"> <em>9 min</em> read</span></div></div></div><div class="post-content"><h2 id="introduction"><span class="mr-2">Introduction:</span><a href="#introduction" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>In part one of this series, we established a solid foundation to begin our malware analysis journey. We successfully stood up two VMs; a Windows(FLARE) machine and a Linux(REMnux) machine. Put them on their own isolated virtual network without access to the internet. Lastly, we configured FLARE to use REMnux as its Gateway and DNS so that we could monitor its network communications. We tested this by setting up INetSim on REMnux and trying to connect to a “malicious” site on our FLARE VM.</p><p>In part 2, we will be looking at isolating our home lab machine from the rest of our network through network segmentation. Network segmentation is a critical component of secure network architecture. It is a way of dividing a network into various segments, usually referred as subnets, that act as their own smaller network. This offers several benefits including better control over the flow of traffic between different subnets through the use of policies which enhances security. Businesses and enterprises have used network segmentation for years but can be just as beneficial to home networks. These benefits can extend way beyond our malware analysis series as well.</p><h2 id="why-is-network-segmentation-important-for-malware-analysis"><span class="mr-2">Why is network segmentation important for malware analysis?</span><a href="#why-is-network-segmentation-important-for-malware-analysis" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>You might be thinking, “Why do I need network segmentation when I already have my VMs on an isolated VM network?”. The honest answer is you don’t. You can still use the setup we created in part 1 to analyze all kinds of malicious samples and be adequately protected from them. However, it isn’t good practice to have your home lab machine and VMs on the same network and able to communicate with the rest of your devices. There are several reasons for this:</p><ol><li><p>You will need to get your file samples from somewhere and normally you will be grabbing samples from public repositories like VirusTotal. Doing so on a machine that shares the same network as the rest of your devices puts them at risk of infection if you accidentally detonate the file on your physical machine.</p><li><p>In some instances you might want to provide your malware sample with a live internet connection. Possibly as a way of getting a secondary file from a downloader you’re analyzing. If your home lab machine is on the same network it opens up possible routes for the malware to spread itself.</p><li><p>In extremely rare cases, malware might be able to exploit a vulnerability and ‘escape’ the VM. If this happens, the malware could infect your actual machine and possibly the rest of your network.</p></ol><h2 id="before-we-get-started"><span class="mr-2">Before we get started:</span><a href="#before-we-get-started" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Not all networking devices are created equal. Many home users will have all-in-one router/switch/access point combos. Netgear’s Nighthawk series is a popular example. These devices do tend to be limited in the configurability of your network. Most allow for the creation of a separate guest network that is ‘isolated’ from the regular network. If your particular device doesn’t offer VLAN or subnetting capabilities, and you don’t want to spend money on other devices, putting your home lab on your ‘guest network’ is your best option.</p><p>I’ll be doing a walkthrough using the network appliances I have below. For those that have these, should be straightforward to follow along. For those who have different appliances the concept is still the same:</p><ol><li>Setup a Home Lab VLAN on your router.<li>Assign the VLAN to the proper ports on your router and/or switches so that it can either reach your hardwired lab or your access point so you can create a home lab wifi network.<li>Configure some basic firewall rules to block traffic between your home lab and your other internal networks.</ol><p>Make sure to read up on the documentation for your particular devices. They should have instructions to perform these tasks if the capablities are present.</p><h2 id="my-setup"><span class="mr-2">My setup:</span><a href="#my-setup" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>First and foremost, I am not affiliated with any of the devices or companies I am about to share. However, I am a fan of these products and would recommend them to those looking to do similar things.</p><ol><li>Firewall/Router: <a href="https://firewalla.com/collections/firewalla-products/products/firewalla-gold">Firewalla Gold</a><li>Switches: Ubiquiti <a href="https://www.amazon.com/Ubiquiti-Networks-Managed-Network-Ethernet/dp/B01N362YPG/ref=sr_1_1_sspa?dchild=1&amp;keywords=US-8+Unifi+switch&amp;qid=1621698718&amp;sr=8-1-spons&amp;psc=1&amp;smid=A1CWARKP010ISH&amp;spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUEzTFlKRDdHNFNHN1BaJmVuY3J5cHRlZElkPUEwMTI5NzIzM0tPVUxORkhXSTZRSyZlbmNyeXB0ZWRBZElkPUEwMzMwOTI5MlRJWlpWUVZEQjhaSiZ3aWRnZXROYW1lPXNwX2F0ZiZhY3Rpb249Y2xpY2tSZWRpcmVjdCZkb05vdExvZ0NsaWNrPXRydWU=">US-8 Unifi Switch</a> and <a href="https://www.amazon.com/Switch-US-8-60W-Managed-Gigabit-802-3af/dp/B08KYGXZ8V/ref=sr_1_3?dchild=1&amp;keywords=US-8-60W+Unifi+switch&amp;qid=1621698768&amp;sr=8-3">UniFi Switch 8 US-8-60W 8-Port Fully Managed Gigabit Switch 802.3af PoE Ports</a>(If you only need one, definitely go with the PoE capable switch little more pricey but totally worth it)<li>Access Point: <a href="https://www.amazon.com/Ubiquiti-UAP-AC-LITE-802-11ac-Gigabit-Dual-Radio/dp/B01DRM6MLI/ref=sr_1_3?dchild=1&amp;keywords=Unifi+Ap-AC+Lite&amp;qid=1621698886&amp;sr=8-3">Unifi Ap-AC Lite</a></ol><p>What my network looks like: <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 700 400'%3E%3C/svg%3E" data-src="/assets/img/blog/how_to_isolate_homelab_images//2021-05-24_01_Network_diagram.jpg" alt="" width="700" height="400" class="shadow" data-proofer-ignore></p><h2 id="setting-up-vlans-on-my-firewalla-goldrouterfirewall"><span class="mr-2">Setting up VLANs on my Firewalla Gold(router/firewall):</span><a href="#setting-up-vlans-on-my-firewalla-goldrouterfirewall" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Firewalla’s iPhone app makes this part very easy. In the app, select</p><p><code class="language-plaintext highlighter-rouge">Network</code> → <code class="language-plaintext highlighter-rouge">Edit</code> → <code class="language-plaintext highlighter-rouge">Create Network</code> → <code class="language-plaintext highlighter-rouge">Local Network</code></p><p>Type in the name for the VLAN, I am going with <code class="language-plaintext highlighter-rouge">Homelab</code> . Change Type to <code class="language-plaintext highlighter-rouge">VLAN</code> . Then make sure to add the <code class="language-plaintext highlighter-rouge">VLAN ID</code>. Based off of my network diagram above, I’ll select <code class="language-plaintext highlighter-rouge">30</code> . Now make sure to check the right ethernet port on your router so that it can actually reach your internal network. Mine uses the 3rd port on my router. After that, make sure that your IP address range and subnet mask is what you want. To make things easier for myself I tend to make the third set of two bits the same number as my <code class="language-plaintext highlighter-rouge">VLAN ID</code> so in my case I’ll change my IP address to <code class="language-plaintext highlighter-rouge">192.168.30.1</code> and I’ll leave the subnet mask as is.</p><p><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 700 400'%3E%3C/svg%3E" data-src="/assets/img/blog/how_to_isolate_homelab_images//2021-05-24_02_creating_homelab_vlan_network.jpg" alt="" width="700" height="400" class="shadow" data-proofer-ignore></p><p>Now we can click <code class="language-plaintext highlighter-rouge">Done</code> at the top right and then make sure to hit <code class="language-plaintext highlighter-rouge">Save</code> on the <code class="language-plaintext highlighter-rouge">Network Manager</code> screen so that Firewalla Gold saves all the configurations you set up.</p><h2 id="creating-homelab-network-on-my-unifi-equipment"><span class="mr-2">Creating Homelab Network on my Unifi Equipment:</span><a href="#creating-homelab-network-on-my-unifi-equipment" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Log into your Unifi Cloud Key or the VM that is hosting your Cloud Key software. If you have Cloud log in enabled you can do this through the <a href="https://account.ui.com/login?redirect=https%3A%2F%2Funifi.ui.com">cloud login portal</a>. If not, then type in the IP address of the VM or Cloud Key and log in that way.</p><p>Once you’re logged on, click the <code class="language-plaintext highlighter-rouge">Gear Icon</code> at the bottom left of the navigation panel. Select <code class="language-plaintext highlighter-rouge">Networks</code> and <code class="language-plaintext highlighter-rouge">Add New Network</code> . Create the name you want for your <code class="language-plaintext highlighter-rouge">Network</code> . I will continue to us <code class="language-plaintext highlighter-rouge">Homelab</code> as the name of the network. Click the <code class="language-plaintext highlighter-rouge">Advanced</code> tab. Change the VLAN ID to the number you set. For me that is <code class="language-plaintext highlighter-rouge">30</code> .</p><p><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 700 400'%3E%3C/svg%3E" data-src="/assets/img/blog/how_to_isolate_homelab_images//2021-05-24_03_Unifi_network_settings_screen.jpg" alt="" width="700" height="400" class="shadow" data-proofer-ignore></p><p>This next step is very important and depends on the setup you have. My Firewalla Gold provides DHCP, so I will set mine to <code class="language-plaintext highlighter-rouge">None</code> . If you have a non-Unifi router that provides DHCP to your network then you will likely need to do the same. If you are using a Unifi Gateway like their USG line then I would refer you to their instructions to make sure nothing gets broken.</p><p>Click <code class="language-plaintext highlighter-rouge">Add Network</code> . Once on the <code class="language-plaintext highlighter-rouge">Networks</code> main page, you might notice a subnet range that does not match what you set up in the last section. You can ignore that, it isn’t correct and when you actually join your home lab it will have an IP assigned by your Firewalla Gold that is in the subnet of your home lab.</p><p>For my setup, I want to have a wireless home lab network. To set this up, I’ll select the <code class="language-plaintext highlighter-rouge">WiFi</code> tab in the same settings menu. Create the name of your wireless network. I’m keeping the same trend as before, <code class="language-plaintext highlighter-rouge">Home Lab Network</code> (boring I know). Create a unique password for your home lab network. Lastly, make sure to select the newly created <code class="language-plaintext highlighter-rouge">Network</code> that we created just before this. The network name I created is called <code class="language-plaintext highlighter-rouge">Homelab</code> . The last thing I like to do before clicking <code class="language-plaintext highlighter-rouge">Add WiFi Network</code> is click <code class="language-plaintext highlighter-rouge">Advanced</code> → <code class="language-plaintext highlighter-rouge">Security</code> → check <code class="language-plaintext highlighter-rouge">Hide WiFi Name</code> . I like to hide the SSID of my Home Lab network just so it doesn’t show up when people are actively looking for WiFi networks to join.</p><p><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 700 400'%3E%3C/svg%3E" data-src="/assets/img/blog/how_to_isolate_homelab_images//2021-05-24_04_configuring_wifi_network_on_unifi.jpg" alt="" width="700" height="400" class="shadow" data-proofer-ignore></p><p>After hitting <code class="language-plaintext highlighter-rouge">Add WiFi Network</code> you should now see your newly created WiFi network in the list of current WiFi networks.</p><h2 id="configuring-firewall-rule-to-block-traffic-between-internal-networks"><span class="mr-2">Configuring Firewall Rule to Block Traffic between Internal Networks:</span><a href="#configuring-firewall-rule-to-block-traffic-between-internal-networks" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Now that we have our newly created home lab network up and running, we should create some firewall rules to make sure we properly isolate our home lab network from the rest of our internally created networks. To do this, we need to jump back into our Firewalla Gold app.</p><p>From the app select <code class="language-plaintext highlighter-rouge">Rules</code> → <code class="language-plaintext highlighter-rouge">Add Rule</code> . For the action, I’ll select <code class="language-plaintext highlighter-rouge">Block</code> . In the <code class="language-plaintext highlighter-rouge">Matching</code> section we have two fields we need to configure. First, we need to set a target: select <code class="language-plaintext highlighter-rouge">Local Network</code> → <code class="language-plaintext highlighter-rouge">All Local Networks</code> → <code class="language-plaintext highlighter-rouge">Traffic from &amp; to All Local Networks</code> . Now we need to select which device this rule will apply to. Click the Select field and select your <code class="language-plaintext highlighter-rouge">Homelab</code> network. The schedule I will keep always and I’ll add a quick note to the rule <code class="language-plaintext highlighter-rouge">Isolating Homelab network from all other internal networks</code> . Hit <code class="language-plaintext highlighter-rouge">Save</code> and you should now see another rule in the list specifically for your home lab.</p><p><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 700 400'%3E%3C/svg%3E" data-src="/assets/img/blog/how_to_isolate_homelab_images//2021-05-24_05_Creating_firewall_rule.jpg" alt="" width="700" height="400" class="shadow" data-proofer-ignore></p><p>Thats all that I need to do to create a homelab wifi network and properly isolate it from the rest of my internal networks. Firewalla Gold makes this process extremely easy and is probably different from how other devices create VLANs and firewall rules. If you run into trouble with your device, check out forums for assistance. I’ve found Reddit extremely helpful for finding help. Especially if you join that device’s specific subreddit.</p><h2 id="final-thoughts"><span class="mr-2">Final Thoughts:</span><a href="#final-thoughts" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>The network appliances that you have at home might be vastly different from the ones I have. You might even only have that Netgear Nighthawk router and thats ok. It is an investment to grab some of the equipment I have in this post and is something I bought over a number of months. It might not even be something that you want to invest in and thats ok too. Most of these all-in-one routers have the ‘Guest Network’ feature that can be easily turned on and sufficiently blocks the Guest Network from accessing the rest of your devices. Thats really all that is needed.</p><p>If you are someone trying to get into networking and understanding firewall rules, investing in this type of gear can be extremely beneficial for you. I myself tend to learn the best when I build things and set things up on my own vs watching videos or reading a book about it.</p><p>Hopefully you found this post helpful in some way. If you have any questions, comments or just want to chat you can find me on <a href="https://twitter.com/jt_dunnski">Twitter</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/malware-analysis-series/'>Malware Analysis Series</a>, <a href='/categories/how-to/'>How to</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/firewalla-gold/" class="post-tag no-text-decoration" >firewalla_gold</a> <a href="/tags/unifi/" class="post-tag no-text-decoration" >unifi</a> <a href="/tags/malware/" class="post-tag no-text-decoration" >malware</a> <a href="/tags/malware-analysis/" class="post-tag no-text-decoration" >malware_analysis</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Malware Analysis Series - Part 2, How to Isolate our Homelab with Network Segmentation - JT_Dunnski&amp;url=https://dunnski.github.io/posts/how_to_isolate_homelab/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Malware Analysis Series - Part 2, How to Isolate our Homelab with Network Segmentation - JT_Dunnski&amp;u=https://dunnski.github.io/posts/how_to_isolate_homelab/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://dunnski.github.io/posts/how_to_isolate_homelab/&amp;text=Malware Analysis Series - Part 2, How to Isolate our Homelab with Network Segmentation - JT_Dunnski" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://dunnski.github.io/posts/how_to_isolate_homelab/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/how_to_set_up_homelab_blog/">Malware Analysis Series - Part 1, Setting Up a Basic Malware Analysis Virtual Lab</a><li><a href="/posts/how_to_isolate_homelab/">Malware Analysis Series - Part 2, How to Isolate our Homelab with Network Segmentation</a><li><a href="/posts/adding_scyllahide_plugin_to_x32_x64dbg/">Adding ScyllaHide Plugin to x32/64DBG</a><li><a href="/posts/disabling_windows_defender_for_malware_analysis_lab/">Disabling Windows Defender for Your Malware Analysis Lab</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/malware/">malware</a> <a class="post-tag" href="/tags/malware-analysis/">malware_analysis</a> <a class="post-tag" href="/tags/exploit/">exploit</a> <a class="post-tag" href="/tags/firewalla-gold/">firewalla_gold</a> <a class="post-tag" href="/tags/flare/">flare</a> <a class="post-tag" href="/tags/log4shell/">log4shell</a> <a class="post-tag" href="/tags/remnux/">remnux</a> <a class="post-tag" href="/tags/scyllahide/">scyllahide</a> <a class="post-tag" href="/tags/unifi/">unifi</a> <a class="post-tag" href="/tags/vmware/">vmware</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/how_to_set_up_homelab_blog/"><div class="card-body"> <em class="timeago small" data-ts="1627819200" > 2021-08-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Malware Analysis Series - Part 1, Setting Up a Basic Malware Analysis Virtual Lab</h3><div class="text-muted small"><p> Introduction: Since joining the Cyber Security and Intelligence community in 2016, I’ve always had a strong interest in malware analysis. The process of breaking something down, looking at its ind...</p></div></div></a></div><div class="card"> <a href="/posts/adding_scyllahide_plugin_to_x32_x64dbg/"><div class="card-body"> <em class="timeago small" data-ts="1637409600" > 2021-11-20 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Adding ScyllaHide Plugin to x32/64DBG</h3><div class="text-muted small"><p> Introduction: Today I wanted to quickly detail how you can add the ScyllaHide plugin into your x32/64dbg tools. ScyllaHide is an open source plugin that can help to hide your debugger from common a...</p></div></div></a></div><div class="card"> <a href="/posts/disabling_windows_defender_for_malware_analysis_lab/"><div class="card-body"> <em class="timeago small" data-ts="1643457600" > 2022-01-29 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Disabling Windows Defender for Your Malware Analysis Lab</h3><div class="text-muted small"><p> Introduction: When it comes to malware analysis and reverse engineering, in most cases, you will want to have your AV and security tools disabled. The main reason for this is so your AV doesn’t acc...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/how_to_set_up_homelab_blog/" class="btn btn-outline-primary" prompt="Older"><p>Malware Analysis Series - Part 1, Setting Up a Basic Malware Analysis Virtual Lab</p></a> <a href="/posts/adding_scyllahide_plugin_to_x32_x64dbg/" class="btn btn-outline-primary" prompt="Newer"><p>Adding ScyllaHide Plugin to x32/64DBG</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/jt_dunnski">Joshua</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/malware/">malware</a> <a class="post-tag" href="/tags/malware-analysis/">malware_analysis</a> <a class="post-tag" href="/tags/exploit/">exploit</a> <a class="post-tag" href="/tags/firewalla-gold/">firewalla_gold</a> <a class="post-tag" href="/tags/flare/">flare</a> <a class="post-tag" href="/tags/log4shell/">log4shell</a> <a class="post-tag" href="/tags/remnux/">remnux</a> <a class="post-tag" href="/tags/scyllahide/">scyllahide</a> <a class="post-tag" href="/tags/unifi/">unifi</a> <a class="post-tag" href="/tags/vmware/">vmware</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en-us.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
